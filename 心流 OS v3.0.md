### **產品進化藍圖：心流 OS v3.0 \- 規劃核心**

#### **第一階段：深度研究**

##### **1\. 時間估算與追蹤 (Time Estimation & Tracking)**

**A. 為什麼這個功能至關重要？(底層心理學)**

* **對抗「規劃謬誤」(Planning Fallacy):** 諾貝爾獎得主丹尼爾·康納曼 (Daniel Kahneman) 指出，人類天生傾向於「過度樂觀」，嚴重低估完成任務所需的時間。這會導致計畫永遠趕不上變化，進而產生挫敗感和拖延。此功能透過「估算 \-\> 執行 \-\> 比較」的循環，幫助使用者校準這種天生的偏誤。  
* **擊破「任務模糊性」(Task Ambiguity):** 一個看起來「不可能完成」的巨大任務，其恐懼感往往來自於它的未知性。當我們強迫自己去估算時間（例如：「寫一份報告預計需要 8 個番茄鐘」），大腦就必須下意識地將其分解成更小的步驟，這極大地降低了啟動任務的心理門檻。  
* **訓練「後設認知」(Metacognition):** 對於許多 ADHD 患者或飽受「時間盲 (Time Blindness)」困擾的人來說，他們不僅不知道現在幾點，更不知道「做一件事要花多久」。透過不斷比較「預期」與「實際」耗時，使用者等於在進行一場溫和的「時間感」實戰訓練，這是在提升他們「思考自己如何思考」的能力。

**B. 如何設計？(UI/UX 與執行策略)**

* **無縫整合：** 我們需要在一個統一的介面中管理「任務 (Task)」。這個介面將是 v3.0 的核心，取代原本單純的習慣打卡。  
* **任務屬性：**  
  * 任務名稱 (必要)  
  * 預計番茄鐘數 (可選): 提供一個簡單的下拉選單 (1, 2, 3, 4, ... 番茄鐘)。  
  * 實際番茄鐘數 (自動追蹤): 當使用者為此任務啟動計時器時，自動累加。  
* **視覺化回饋：** 在任務完成後，以最直觀的方式呈現對比。  
  * 例如：寫報告 \[預計: 🍅🍅🍅🍅\] \[實際: 🍅🍅🍅🍅🍅\]  
  * 在儀表板中，可以加入一個「時間估算準確度」的分析圖表。

##### **2\. 排程與行事曆整合 (Scheduling & Calendar Integration)**

**A. 為什麼這個功能至關重要？(底層心理學)**

* **啟動「執行意圖」(Implementation Intentions):** 心理學家彼得·格爾維澤 (Peter Gollwitzer) 的研究表明，制定一個「如果...就...」的計畫 (例如：「**如果**到了星期二下午 2 點，**就**在書房開始寫報告」) 能將任務的成功率提高 200% 到 300%。將任務排入行事曆，正是「執行意圖」最強大的應用。  
* **具象化時間 (Making Time Tangible):** 待辦清單 (To-do List) 是無限的，但一天就只有 24 小時。行事曆將抽象的「任務清單」轉化為有限的「時間區塊」。使用者會清楚地看到，時間是一種需要被「規劃」和「保護」的稀缺資源。  
* **降低決策疲勞 (Reducing Decision Fatigue):** ADHD 大腦或處於壓力下的大腦，最怕的就是「現在我該做什麼？」這個開放式問題。一個排好程的行事曆，為使用者提供了一個清晰的外部指令，他們只需要「跟著走」，而無需在每個當下消耗寶貴的意志力去做決定。

**B. 如何設計？(UI/UX 與執行策略)**

* **從「最小可行性產品 (MVP)」開始：** 一個完整的雙向同步日曆非常複雜。在 v3.0，我們的目標不是取代 Google Calendar，而是建立一個**內部的、視覺化的「今日規劃器 (Today Planner)」**。  
* **UI 介面：**  
  * 採用**雙欄佈局**：左邊是「任務收件匣 (Inbox)」，右邊是「今日時間軸 (Today's Timeline)」。  
  * **時間軸：** 以小時為單位，從早上 7 點到晚上 11 點的垂直時間線。  
* **核心互動：**  
  * **拖曳與放置 (Drag and Drop):** 使用者可以將左邊「收件匣」中的任務，直接用滑鼠拖到右邊時間軸的特定時段，形成一個「時間區塊」。  
  * **一鍵啟動：** 每個時間區塊上都有一個「▶️ 開始專注」按鈕。當真實時間進入該區塊時，按鈕會高亮或閃爍，溫和地提醒使用者該開始了。  
* **數據整合：** 當使用者透過行事曆啟動專注後，其「實際耗時」會自動記錄回該任務上。

#### **第二階段：開發執行計畫**

這兩個功能緊密相連，但我們可以分步實現，確保每個版本的穩定性。

1. **第一步：建立「任務核心」**  
   * 我們需要一個統一的「任務」概念來取代之前的「習慣」。這個新的「任務」物件將包含所有屬性（名稱、圖示、預計時間、實際時間、是否為重複性習慣、打卡紀錄等）。  
   * 習慣打卡功能將被重構，成為「重複性任務」的一種。  
2. **第二步：實作 v3.0a \- 任務與時間追蹤**  
   * 開發一個全新的「任務」頁面，允許使用者新增/編輯任務，並設定「預計番茄鐘」。  
   * 修改「心流花園」計時器，使其在啟動時可以關聯到一個特定任務。  
   * 完成專注後，將耗時記錄回任務的「實際番茄鐘」屬性。  
3. **第三步：實作 v3.0b \- 今日規劃器**  
   * 在 v3.0a 的基礎上，新增「規劃」頁面，包含「任務收件匣」和「今日時間軸」的雙欄佈局。  
   * 實現任務的拖曳與放置功能。  
   * 為時間區塊新增「一鍵啟動專注」的功能。
